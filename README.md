# MovieGo - Flutter ç”µå½±åº”ç”¨

ä¸€ä¸ªåŸºäº Flutter å’Œ TMDb API å¼€å‘çš„ç°ä»£åŒ–ç”µå½±åº”ç”¨ï¼Œæä¾›ä¸°å¯Œçš„ç”µå½±ä¿¡æ¯å’Œæµç•…çš„ç”¨æˆ·ä½“éªŒã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

MovieGo æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ç”µå½±åº”ç”¨ï¼Œé›†æˆäº† TMDbï¼ˆThe Movie Databaseï¼‰APIï¼Œæä¾›ï¼š
- ğŸ¬ æ­£åœ¨ä¸Šæ˜ çš„ç”µå½±åˆ—è¡¨
- ğŸ”¥ çƒ­é—¨ç”µå½±æ¨è
- ğŸ“… å³å°†ä¸Šæ˜ çš„ç”µå½±
- â­ é«˜åˆ†ç”µå½±æ¦œå•
- ğŸ“± ç²¾ç¾çš„ç”µå½±è¯¦æƒ…é¡µé¢
- ğŸ¨ ç°ä»£åŒ–çš„ Material Design 3 UI

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
lib/
â”œâ”€â”€ main.dart                    # åº”ç”¨å…¥å£æ–‡ä»¶
â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ app_config.dart         # åº”ç”¨é…ç½®ï¼ˆTMDb APIé…ç½®ç­‰ï¼‰
â”‚   â”œâ”€â”€ app_theme.dart          # ä¸»é¢˜é…ç½®ï¼ˆæµ…è‰²/æ·±è‰²ä¸»é¢˜ï¼‰
â”‚   â””â”€â”€ app_router.dart          # è·¯ç”±é…ç½®ï¼ˆgo_routerï¼‰
â”œâ”€â”€ models/                      # æ•°æ®æ¨¡å‹ç›®å½•
â”‚   â”œâ”€â”€ movie.dart              # ç”µå½±åŸºç¡€æ¨¡å‹
â”‚   â”œâ”€â”€ movie_detail.dart       # ç”µå½±è¯¦æƒ…æ¨¡å‹
â”‚   â””â”€â”€ movie_response.dart     # ç”µå½±åˆ—è¡¨å“åº”æ¨¡å‹
â”œâ”€â”€ views/                       # é¡µé¢è§†å›¾ç›®å½•
â”‚   â”œâ”€â”€ home_page.dart          # é¦–é¡µï¼ˆæ ‡ç­¾é¡µåˆ‡æ¢ï¼‰
â”‚   â””â”€â”€ movie_detail_page.dart  # ç”µå½±è¯¦æƒ…é¡µ
â”œâ”€â”€ providers/                   # çŠ¶æ€ç®¡ç†ç›®å½•ï¼ˆRiverpodï¼‰
â”‚   â””â”€â”€ movie_provider.dart     # ç”µå½±æ•°æ®çŠ¶æ€ç®¡ç†
â”œâ”€â”€ services/                    # æœåŠ¡å±‚ç›®å½•
â”‚   â””â”€â”€ tmdb_service.dart       # TMDb APIæœåŠ¡
â”œâ”€â”€ utils/                       # å·¥å…·ç±»ç›®å½•
â”‚   â”œâ”€â”€ logger.dart             # æ—¥å¿—å·¥å…·
â”‚   â””â”€â”€ constants.dart          # å¸¸é‡å®šä¹‰
â””â”€â”€ widgets/                     # é€šç”¨ç»„ä»¶ç›®å½•
    â”œâ”€â”€ loading_widget.dart     # åŠ è½½ä¸­ç»„ä»¶
    â”œâ”€â”€ error_widget.dart       # é”™è¯¯æç¤ºç»„ä»¶
    â”œâ”€â”€ movie_card.dart         # ç”µå½±å¡ç‰‡ç»„ä»¶
    â””â”€â”€ movie_grid_item.dart    # ç”µå½±ç½‘æ ¼é¡¹ç»„ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Flutter SDK: >=3.10.1
- Dart SDK: >=3.10.1
- æ”¯æŒå¹³å°: iOS, Android, Web, macOS, Windows, Linux

### å®‰è£…ä¾èµ–

```bash
flutter pub get
```

### è¿è¡Œé¡¹ç›®

```bash
# è¿è¡Œåœ¨è¿æ¥çš„è®¾å¤‡ä¸Š
flutter run

# è¿è¡Œåœ¨ç‰¹å®šå¹³å°
flutter run -d ios        # iOS
flutter run -d android    # Android
flutter run -d chrome     # Web
flutter run -d macos      # macOS
```

### æ„å»ºé¡¹ç›®

```bash
# æ„å»ºAPKï¼ˆAndroidï¼‰
flutter build apk

# æ„å»ºiOS
flutter build ios

# æ„å»ºWeb
flutter build web
```

## ğŸ“¦ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. TMDb API é›†æˆ

é¡¹ç›®å·²é›†æˆ TMDb APIï¼Œæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š

- **æ­£åœ¨ä¸Šæ˜ çš„ç”µå½±** (`getNowPlayingMovies`)
- **çƒ­é—¨ç”µå½±** (`getPopularMovies`)
- **å³å°†ä¸Šæ˜ çš„ç”µå½±** (`getUpcomingMovies`)
- **é«˜åˆ†ç”µå½±** (`getTopRatedMovies`)
- **æœç´¢ç”µå½±** (`searchMovies`)
- **ç”µå½±è¯¦æƒ…** (`getMovieDetail`)

**é…ç½®ä½ç½®ï¼š** `lib/config/app_config.dart`

```dart
// TMDb APIé…ç½®
static const String tmdbApiKey = 'your_api_key';
static const String tmdbApiBaseUrl = 'https://api.themoviedb.org/3';
```

### 2. çŠ¶æ€ç®¡ç†ï¼ˆRiverpodï¼‰

ä½¿ç”¨ Riverpod è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼Œæä¾›å“åº”å¼çš„æ•°æ®æµï¼š

- `nowPlayingMoviesProvider` - æ­£åœ¨ä¸Šæ˜ çš„ç”µå½±
- `popularMoviesProvider` - çƒ­é—¨ç”µå½±
- `upcomingMoviesProvider` - å³å°†ä¸Šæ˜ çš„ç”µå½±
- `topRatedMoviesProvider` - é«˜åˆ†ç”µå½±
- `movieDetailProvider` - ç”µå½±è¯¦æƒ…ï¼ˆæ”¯æŒå‚æ•°åŒ–ï¼‰

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

```dart
// è¯»å–çŠ¶æ€
final state = ref.watch(nowPlayingMoviesProvider);

// è§¦å‘æ“ä½œ
ref.read(nowPlayingMoviesProvider.notifier).loadMovies(refresh: true);
```

### 3. è·¯ç”±ç®¡ç†ï¼ˆGoRouterï¼‰

ä½¿ç”¨ GoRouter è¿›è¡Œå£°æ˜å¼è·¯ç”±ç®¡ç†ï¼š

- `/` - é¦–é¡µ
- `/movie/:id` - ç”µå½±è¯¦æƒ…é¡µ

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

```dart
// å¯¼èˆªåˆ°ç”µå½±è¯¦æƒ…é¡µ
context.push('/movie/${movie.id}');

// è¿”å›é¦–é¡µ
context.go('/');
```

### 4. æ•°æ®æ¨¡å‹

#### Movieï¼ˆç”µå½±åŸºç¡€æ¨¡å‹ï¼‰

```dart
class Movie {
  final int id;
  final String title;
  final String overview;
  final String? posterPath;
  final double voteAverage;
  // ... æ›´å¤šå­—æ®µ
}
```

#### MovieDetailï¼ˆç”µå½±è¯¦æƒ…æ¨¡å‹ï¼‰

ç»§æ‰¿è‡ª `Movie`ï¼ŒåŒ…å«å®Œæ•´çš„ç”µå½±ä¿¡æ¯ï¼š

```dart
class MovieDetail extends Movie {
  final int? budget;
  final List<Genre> genres;
  final int? runtime;
  // ... æ›´å¤šå­—æ®µ
}
```

### 5. UI ç»„ä»¶

#### MovieCardï¼ˆç”µå½±å¡ç‰‡ï¼‰

ç”¨äºåœ¨åˆ—è¡¨ä¸­æ˜¾ç¤ºç”µå½±ä¿¡æ¯ï¼š

```dart
MovieCard(
  movie: movie,
  showDetails: true,
)
```

#### MovieGridItemï¼ˆç”µå½±ç½‘æ ¼é¡¹ï¼‰

ç”¨äºåœ¨ç½‘æ ¼å¸ƒå±€ä¸­æ˜¾ç¤ºç”µå½±ï¼š

```dart
MovieGridItem(movie: movie)
```

#### LoadingWidgetï¼ˆåŠ è½½ç»„ä»¶ï¼‰

æ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼š

```dart
LoadingWidget(message: 'åŠ è½½ä¸­...')
```

#### ErrorDisplayWidgetï¼ˆé”™è¯¯ç»„ä»¶ï¼‰

æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼š

```dart
ErrorDisplayWidget(
  message: 'åŠ è½½å¤±è´¥',
  onRetry: () {
    // é‡è¯•é€»è¾‘
  },
)
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„ç”µå½±åˆ†ç±»

1. åœ¨ `TmdbService` ä¸­æ·»åŠ æ–°çš„ API æ–¹æ³•
2. åœ¨ `movie_provider.dart` ä¸­æ·»åŠ æ–°çš„ Provider
3. åœ¨ `home_page.dart` ä¸­æ·»åŠ æ–°çš„æ ‡ç­¾é¡µ

### è‡ªå®šä¹‰ä¸»é¢˜

ç¼–è¾‘ `lib/config/app_theme.dart` æ–‡ä»¶ï¼š

```dart
static ThemeData get lightTheme {
  return ThemeData(
    useMaterial3: true,
    colorScheme: ColorScheme.fromSeed(
      seedColor: Colors.blue, // ä¿®æ”¹ä¸»é¢˜è‰²
    ),
    // ... æ›´å¤šé…ç½®
  );
}
```

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `lib/views/` ç›®å½•ä¸‹åˆ›å»ºæ–°é¡µé¢
2. åœ¨ `lib/config/app_router.dart` ä¸­æ·»åŠ è·¯ç”±é…ç½®
3. ä½¿ç”¨ `context.push()` æˆ– `context.go()` è¿›è¡Œå¯¼èˆª

### å›¾ç‰‡åŠ è½½

é¡¹ç›®ä½¿ç”¨ `cached_network_image` è¿›è¡Œå›¾ç‰‡åŠ è½½å’Œç¼“å­˜ï¼š

```dart
CachedNetworkImage(
  imageUrl: movie.getPosterUrl(size: AppConfig.posterSizeMedium) ?? '',
  placeholder: (context, url) => CircularProgressIndicator(),
  errorWidget: (context, url, error) => Icon(Icons.error),
)
```

## ğŸ“š ä¾èµ–åŒ…

### ä¸»è¦ä¾èµ–

- `flutter_riverpod: ^2.5.1` - çŠ¶æ€ç®¡ç†
- `go_router: ^14.0.0` - è·¯ç”±ç®¡ç†
- `cached_network_image: ^3.3.1` - å›¾ç‰‡åŠ è½½å’Œç¼“å­˜
- `http: ^1.2.0` - HTTP è¯·æ±‚

### å¼€å‘ä¾èµ–

- `flutter_lints: ^6.0.0` - ä»£ç è§„èŒƒæ£€æŸ¥
- `build_runner: ^2.4.8` - ä»£ç ç”Ÿæˆå·¥å…·
- `json_serializable: ^6.8.0` - JSON åºåˆ—åŒ–

æŸ¥çœ‹æ‰€æœ‰ä¾èµ–ï¼š

```bash
flutter pub deps
```

æ·»åŠ æ–°ä¾èµ–ï¼š

```bash
flutter pub add package_name
```

## ğŸ¨ è®¾è®¡ç‰¹ç‚¹

1. **Material Design 3** - ä½¿ç”¨æœ€æ–°çš„ Material Design è®¾è®¡è§„èŒƒ
2. **å“åº”å¼å¸ƒå±€** - é€‚é…ä¸åŒå±å¹•å°ºå¯¸
3. **æµç•…åŠ¨ç”»** - ä½¿ç”¨ Flutter å†…ç½®åŠ¨ç”»å®ç°æµç•…ä½“éªŒ
4. **å›¾ç‰‡ç¼“å­˜** - è‡ªåŠ¨ç¼“å­˜ç½‘ç»œå›¾ç‰‡ï¼Œæå‡æ€§èƒ½
5. **ä¸‹æ‹‰åˆ·æ–°** - æ”¯æŒä¸‹æ‹‰åˆ·æ–°åˆ—è¡¨
6. **æ— é™æ»šåŠ¨** - è‡ªåŠ¨åŠ è½½æ›´å¤šå†…å®¹

## ğŸ“ ä»£ç è§„èŒƒ

- éµå¾ª Dart å®˜æ–¹ä»£ç è§„èŒƒ
- ä½¿ç”¨ `flutter_lints` è¿›è¡Œä»£ç æ£€æŸ¥
- æ‰€æœ‰å…¬å…± API éƒ½æœ‰ä¸­æ–‡æ³¨é‡Š
- ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å’Œå‡½æ•°å‘½å

è¿è¡Œä»£ç æ£€æŸ¥ï¼š

```bash
flutter analyze
```

æ ¼å¼åŒ–ä»£ç ï¼š

```bash
flutter format .
```

## ğŸ§ª æµ‹è¯•

è¿è¡Œæµ‹è¯•ï¼š

```bash
flutter test
```

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. API è¯·æ±‚å¤±è´¥

**åŸå› ï¼š** API å¯†é’¥æ— æ•ˆæˆ–ç½‘ç»œé—®é¢˜

**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥ `app_config.dart` ä¸­çš„ API å¯†é’¥æ˜¯å¦æ­£ç¡®
- ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
- æŸ¥çœ‹æ—¥å¿—è¾“å‡ºè·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

### 2. å›¾ç‰‡åŠ è½½å¤±è´¥

**åŸå› ï¼š** å›¾ç‰‡ URL æ— æ•ˆæˆ–ç½‘ç»œé—®é¢˜

**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥ TMDb API è¿”å›çš„å›¾ç‰‡è·¯å¾„
- ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
- æŸ¥çœ‹é”™è¯¯ç»„ä»¶æ˜¾ç¤ºçš„è¯¦ç»†ä¿¡æ¯

### 3. è·¯ç”±å¯¼èˆªå¤±è´¥

**åŸå› ï¼š** è·¯ç”±é…ç½®é”™è¯¯æˆ–å‚æ•°ç¼ºå¤±

**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥ `app_router.dart` ä¸­çš„è·¯ç”±é…ç½®
- ç¡®è®¤ä¼ é€’çš„å‚æ•°æ ¼å¼æ­£ç¡®
- æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

## ğŸ“– ç›¸å…³èµ„æº

- [Flutter å®˜æ–¹æ–‡æ¡£](https://docs.flutter.dev/)
- [Dart è¯­è¨€æ–‡æ¡£](https://dart.dev/guides)
- [TMDb API æ–‡æ¡£](https://developers.themoviedb.org/3)
- [Riverpod æ–‡æ¡£](https://riverpod.dev/)
- [GoRouter æ–‡æ¡£](https://pub.dev/packages/go_router)
- [Flutter åŒ…ç®¡ç†](https://pub.dev/)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### å·²å®ç°åŠŸèƒ½

- âœ… TMDb API é›†æˆ
- âœ… ç”µå½±åˆ—è¡¨å±•ç¤ºï¼ˆæ­£åœ¨ä¸Šæ˜ ã€çƒ­é—¨ã€å³å°†ä¸Šæ˜ ã€é«˜åˆ†ï¼‰
- âœ… ç”µå½±è¯¦æƒ…é¡µé¢
- âœ… å›¾ç‰‡åŠ è½½å’Œç¼“å­˜
- âœ… ä¸‹æ‹‰åˆ·æ–°
- âœ… æ— é™æ»šåŠ¨åŠ è½½
- âœ… é”™è¯¯å¤„ç†
- âœ… åŠ è½½çŠ¶æ€æ˜¾ç¤º
- âœ… è·¯ç”±ç®¡ç†
- âœ… çŠ¶æ€ç®¡ç†ï¼ˆRiverpodï¼‰
- âœ… Material Design 3 UI

### å¾…å®ç°åŠŸèƒ½

- [ ] æœç´¢åŠŸèƒ½
- [ ] æ”¶è—åŠŸèƒ½
- [ ] ç”¨æˆ·è¯„ä»·
- [ ] ç”µå½±é¢„å‘Šç‰‡æ’­æ”¾
- [ ] æ¼”å‘˜ä¿¡æ¯å±•ç¤º
- [ ] ç”µå½±æ¨èç®—æ³•
- [ ] ç¦»çº¿ç¼“å­˜
- [ ] å¤šè¯­è¨€æ”¯æŒ

## ğŸ’¡ é¡¹ç›®åæ€ä¸æ”¹è¿›

### å·²å®Œæˆçš„å·¥ä½œ

1. âœ… é›†æˆ TMDb APIï¼Œå®ç°å®Œæ•´çš„ç”µå½±æ•°æ®è·å–
2. âœ… ä½¿ç”¨ Riverpod å®ç°å“åº”å¼çŠ¶æ€ç®¡ç†
3. âœ… ä½¿ç”¨ GoRouter å®ç°å£°æ˜å¼è·¯ç”±ç®¡ç†
4. âœ… åˆ›å»ºäº†å®Œæ•´çš„ UI ç»„ä»¶åº“
5. âœ… å®ç°äº†ç”µå½±åˆ—è¡¨å’Œè¯¦æƒ…é¡µé¢
6. âœ… æ·»åŠ äº†å®Œå–„çš„é”™è¯¯å¤„ç†å’ŒåŠ è½½çŠ¶æ€
7. âœ… ä»£ç ç¬¦åˆ Dart è§„èŒƒï¼Œæ³¨é‡Šæ¸…æ™°

### å¯èƒ½å­˜åœ¨çš„é—®é¢˜

1. **API å¯†é’¥å®‰å…¨**ï¼šå½“å‰ API å¯†é’¥ç›´æ¥å†™åœ¨ä»£ç ä¸­ï¼Œå»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶
2. **é”™è¯¯å¤„ç†**ï¼šå¯ä»¥æ·»åŠ æ›´è¯¦ç»†çš„é”™è¯¯åˆ†ç±»å’Œå¤„ç†é€»è¾‘
3. **æ€§èƒ½ä¼˜åŒ–**ï¼šå¤§é‡å›¾ç‰‡åŠ è½½æ—¶å¯èƒ½éœ€è¦ä¼˜åŒ–å†…å­˜ä½¿ç”¨
4. **ç¦»çº¿æ”¯æŒ**ï¼šå½“å‰æ²¡æœ‰ç¦»çº¿ç¼“å­˜åŠŸèƒ½

### æ”¹è¿›å»ºè®®

1. **å®‰å…¨æ€§**ï¼š
   - ä½¿ç”¨ `flutter_dotenv` ç®¡ç† API å¯†é’¥
   - å°†æ•æ„Ÿä¿¡æ¯å­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­

2. **åŠŸèƒ½æ‰©å±•**ï¼š
   - æ·»åŠ æœç´¢åŠŸèƒ½
   - å®ç°æ”¶è—å’Œè§‚çœ‹å†å²
   - æ·»åŠ ç”¨æˆ·è¯„ä»·ç³»ç»Ÿ

3. **æ€§èƒ½ä¼˜åŒ–**ï¼š
   - å®ç°å›¾ç‰‡æ‡’åŠ è½½
   - æ·»åŠ æ•°æ®ç¼“å­˜æœºåˆ¶
   - ä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“æ€§èƒ½

4. **ç”¨æˆ·ä½“éªŒ**ï¼š
   - æ·»åŠ éª¨æ¶å±åŠ è½½æ•ˆæœ
   - å®ç°æ›´æµç•…çš„é¡µé¢è½¬åœºåŠ¨ç”»
   - æ·»åŠ ä¸‹æ‹‰åˆ·æ–°åŠ¨ç”»

5. **æµ‹è¯•**ï¼š
   - æ·»åŠ å•å…ƒæµ‹è¯•
   - æ·»åŠ é›†æˆæµ‹è¯•
   - æ·»åŠ  Widget æµ‹è¯•

---

**æœ€åæ›´æ–°**: 2024å¹´

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æäº¤ Issue æˆ– Pull Requestã€‚
